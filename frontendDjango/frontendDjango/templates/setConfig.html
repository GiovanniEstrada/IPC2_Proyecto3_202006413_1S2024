{% extends "base.html" %}
{% block content %}
<style>
    .container-index {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin-top: 50px;
    }

    .textarea-index {
        width: 500px;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 5px;
    }

    .btn-enviar {
        margin-top: 15px;
        width: 500px;
        background-color: #007bff;
        color: white;
        border: none;
        padding: 10px;
        border-radius: 5px;
        cursor: pointer;
    }
</style>
<h1 class="h1-index">Cargar Configuraci√≥n</h1>
<form action="" method="GET">
    <div class="container-index">
        <input type="file" id="inputXml" accept=".xml">
        <div class="container-index">
            <label for="xml">Entrada XML:</label>
            <textarea class="textarea-index" name="xml" id="xml" cols="30" rows="10"></textarea>
            <label for="xml">Respuesta:</label>
            <textarea class="textarea-index" name="resp" id="resp" cols="30" rows="10" readonly>{{resultadoConfig}}</textarea>
        </div>
        <button class="btn-enviar" type="submit">Enviar</button>
    </div>
</form>
<script>
    function leerArchivo(e) {
        var archivo = e.target.files[0];
        if (!archivo) {
            return;
        }
        var lector = new FileReader();
        lector.onload = function (e) {
            var contenido = e.target.result;
            document.getElementById('xml').value = contenido;
        }
        lector.readAsText(archivo);
    }

    document.getElementById('inputXml').addEventListener('change', leerArchivo, false);
</script>
{% endblock %}
